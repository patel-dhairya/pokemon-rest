{"info":{"_postman_id":"9b401012-b330-4020-8474-69ddd6d98f04","name":"Pokemon Rest","description":"A small data collection game for Pokemon","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"/register","id":"01737384-a98e-4bcd-9da8-9a51eb682e46","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{   \r\n    \"username\" : \"dhairya\",\r\n    \"password\" : \"xyz\" \r\n}\r\n","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/register","host":["{{url}}"],"path":["register"]},"description":"This request handles adding user in database.\n\nIf userbase already exist in database, it will return error."},"response":[]},{"name":"/login","event":[{"listen":"test","script":{"id":"68b5e7e8-5e16-4a18-a4a1-78d1844905d6","exec":["const name = \"jwt_token\";\r","const refresh_name = \"jwt_refresh_token\";\r","const newToken = pm.response.json().access_token;\r","const refreshToken = pm.response.json().refresh_token;\r","\r","pm.test(\"access token present\", function() {\r","  pm.expect(newToken.length > 0);\r","});\r","\r","pm.test(\"refresh token present\", function() {\r","  pm.expect(refreshToken.length > 0);\r","});\r","\r","\r","pm.collectionVariables.set(name, newToken);\r","pm.collectionVariables.set(refresh_name, refreshToken);\r","\r","pm.test(\"access token copied\", function() {\r","  const tokenCopied = pm.collectionVariables.get(name);\r","  pm.expect(tokenCopied).to.eql(newToken);\r","});\r","\r","pm.test(\"refresh token copied\", function() {\r","  const tokenCopied = pm.collectionVariables.get(refresh_name);\r","  pm.expect(tokenCopied).to.eql(refreshToken);\r","});\r",""],"type":"text/javascript"}}],"id":"b151ceb8-65d8-42a9-b8e6-e98aa249bd38","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[],"body":{"mode":"raw","raw":"{\r\n    \"username\" : \"dhairya\",\r\n    \"password\" : \"xyz\"\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/login","host":["{{url}}"],"path":["login"]},"description":"Enter username and password to login and get fresh token.\n\nUsername and Password must exist in database.\n\nIf username and password does not exist in database, **register** first."},"response":[]},{"name":"/trainer/<name>","id":"bc7e928a-0dc0-4149-a585-d25c4ba35bd4","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    /* You can change trainer name in request\r\n    Trainer name must be unique or it will return error that trainer already exist in database\r\n    Each trainer will be provided with unique id\r\n    */\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/trainer/may","host":["{{url}}"],"path":["trainer","may"]},"description":"StartFragment\n\n```\nYou can change trainer name in request\nTrainer name must be unique or it will return error that trainer already exist in database\nEach trainer will be provided a unique id by system\n```\n\nEndFragment"},"response":[]},{"name":"/pokemon/<name>","id":"45f78373-7d1b-47b0-9f98-7aafee22a469","protocolProfileBehavior":{"disableBodyPruning":true,"disabledSystemHeaders":{}},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    \"pokemon_type\": \"electric\",\r\n    \"trainer_id\": 1\r\n\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/pokemon/pikachu","host":["{{url}}"],"path":["pokemon","pikachu"]},"description":"StartFragment\n\n```\nYou can change pokemon name in request\nEach pokemon has pokemon type and trainer id.\n \nLegal pokemon types are -  'normal', 'fire', 'water', 'grass', 'electric', 'ice', 'fighting', 'poison', 'ground', 'flying', 'psychic', 'bug', 'rock', 'ghost', 'dark', 'dragon', 'steel', 'fairy'\n    \nPokemon name must be unique or it will return error that pokemon already exist in database\n```\n\nEndFragment"},"response":[]},{"name":"/pokemon/<name>","id":"f0d492c7-ffc8-4fa8-8f8b-eae1f11a1f71","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"/* \r\nReturn pokemon with same name as request if it exist in database\r\nName can be changed in request\r\nEx. /pokemon/bulbasaur\r\n */","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/pokemon/pikachu","host":["{{url}}"],"path":["pokemon","pikachu"]},"description":"StartFragment\n\n```\nReturn pokemon with same name as request if it exist in database\nName can be changed in request\n```\n\nEndFragment"},"response":[]},{"name":"/trainer/<name>","id":"4740914f-c957-4819-b3da-2a382af39421","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"/* \r\nReturn trainer with same name as request if it exist in database\r\nName can be changed in request\r\nEx. /trainer/ash\r\n */","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/trainer/may","host":["{{url}}"],"path":["trainer","may"]},"description":"StartFragment\n\n```\nReturn trainer with same name as request if it exist in database\nName can be changed in request\n```\n\nEndFragment"},"response":[]},{"name":"/pokemon/<name>","id":"6ae56e27-1796-46fa-b38d-e8d3de09caa1","protocolProfileBehavior":{"disableBodyPruning":true,"disabledSystemHeaders":{}},"request":{"method":"PUT","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    \r\n    \"pokemon_type\": \"water\",\r\n    \"trainer_id\": 1\r\n}","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/pokemon/pikachu","host":["{{url}}"],"path":["pokemon","pikachu"]},"description":"StartFragment\n\n```\nThis request allows to change pokemon type and trainer id of pokemon if it already exist in database. \nIf it does not, then create new pokemon with given data.\nPokemon name can be given in request\n```\n\nEndFragment"},"response":[]},{"name":"/pokemons","id":"d8d61e5c-efb4-4f06-b97e-beadfbe96635","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"body":{"mode":"raw","raw":"/*\r\nReturn all stored pokemons in database\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/pokemons","host":["{{url}}"],"path":["pokemons"]},"description":"StartFragment\n\n```\nReturn all stored pokemon in database\n```\n\nEndFragment"},"response":[]},{"name":"/trainers","id":"73c8a857-d85b-4e33-8383-b13f6a6b686a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"body":{"mode":"raw","raw":"/*\r\nReturn all stored trainers in database\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/trainers","host":["{{url}}"],"path":["trainers"]},"description":"StartFragment\n\n```\nReturn all stored trainers in database\n```\n\nEndFragment"},"response":[]},{"name":"/pokemon/<name>","id":"2cc36681-de90-44b3-84b9-287f9d68e70e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"/* \r\nDelete pokemon given in request from database if it exist\r\nPlease note that fresh token is requiered for this request. If user has logged out, please login again \r\nto get fresh token\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/pokemon/pikachu","host":["{{url}}"],"path":["pokemon","pikachu"]}},"response":[]},{"name":"/trainer/<name>","id":"a178c851-ffdb-446c-a33e-fc9e4ad388c5","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"/* \r\nDelete trainer given in request from database if it exist\r\nPlease note that fresh token is requiered for this request. If user has logged out, please login again \r\nto get fresh token\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/trainer/may","host":["{{url}}"],"path":["trainer","may"]}},"response":[]},{"name":"/logout","id":"1010a681-f444-42cb-b5c8-078a90e749bd","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer {{jwt_token}}","type":"text"}],"body":{"mode":"raw","raw":"/* Log out current user\r\n    Note - User can no longer delete pokemon or trainer unless a fresh token is issued.\r\n    So login again if user wants to delete pokemon or trainer after logout.\r\n */","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/logout","host":["{{url}}"],"path":["logout"]},"description":"```\nLog out current user\n\n```\n\nStartFragmentEndFragment\n\n**Note** \\- User can no longer delete pokemon or trainer unless a fresh token is issued.\n\nSo login again to get fresh token if user wants to delete pokemon or trainer after logging out"},"response":[]},{"name":"/refresh","event":[{"listen":"test","script":{"id":"01a73983-2f67-4130-97c7-4e0f705dfa55","exec":["const name = \"jwt_token\";\r","\r","const newToken = pm.response.json().access_token;\r","\r","\r","pm.test(\"access token present\", function() {\r","  pm.expect(newToken.length > 0);\r","});\r","\r","\r","pm.collectionVariables.set(name, newToken);\r","\r","\r","pm.test(\"access token copied\", function() {\r","  const tokenCopied = pm.collectionVariables.get(name);\r","  pm.expect(tokenCopied).to.eql(newToken);\r","});\r","\r",""],"type":"text/javascript"}}],"id":"bf5ac4c7-ad49-44b8-a6a7-d8d18c77896e","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"POST","header":[{"key":"Authorization","value":"Bearer {{jwt_refresh_token}}","type":"text"}],"body":{"mode":"raw","raw":"/*\r\nAfter logging out, user can still add or get pokemon and trainer by refreshing token\r\n */","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/refresh","host":["{{url}}"],"path":["refresh"]},"description":"StartFragment\n\n```\nAfter logging out, user can still add or get pokemon and trainer by refreshing token\n```\n\nEndFragment"},"response":[]},{"name":"/user/<user_id>","id":"73661d91-b6c3-4075-93c3-b14e7f480144","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"GET","header":[],"body":{"mode":"raw","raw":"/* \r\nGet the user for given user id if it exist in database.\r\nUser id can be given in request\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/user/1","host":["{{url}}"],"path":["user","1"]}},"response":[]},{"name":"/user/<user_id>","id":"09fc7838-d229-4dab-98b9-6f9c72dee5c9","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"method":"DELETE","header":[],"body":{"mode":"raw","raw":"/* \r\nDelete the user object connected to given user id if it exist in database.\r\nUser id can be given in request\r\n*/","options":{"raw":{"language":"json"}}},"url":{"raw":"{{url}}/user/1","host":["{{url}}"],"path":["user","1"]}},"response":[]}],"event":[{"listen":"prerequest","script":{"id":"afd5f474-aee3-4505-a336-7fe2ee9dc555","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"00817496-7549-42f8-82bb-2ccb98a79598","type":"text/javascript","exec":[""]}}],"variable":[{"id":"0d60404f-d8a3-465a-a731-5bf6bcd5af29","key":"url","value":"127.0.0.1:3000","type":"string"},{"id":"d6bf6c45-d2d7-469f-a916-6b1ad0e12fe9","key":"jwt_token","value":"","type":"string"},{"id":"0e06de20-908f-48f0-91b3-62dd09edd5e3","key":"jwt_refresh_token","value":"","type":"string"}]}